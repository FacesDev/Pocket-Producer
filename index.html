<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <script type="text/javascript" src="main.js"></script>
    <title>Drum Kit</title>
  </head>
  <body>

    <div class="keys" id="keys1">
      <div class="key" data-key="65" onkeyup="danceMonkeyDance()">
        <kbd>A</kbd>
        <span class="sound">808</span>
      </div>
      <div class="key" data-key="83" onkeyup="danceMonkeyDance()">
        <kbd>S</kbd>
        <span class="sound">Snare</span>
      </div>
      <div class="key" data-key="68" onkeyup="danceMonkeyDance()">
        <kbd>D</kbd>
        <span class="sound">Hat</span>
      </div>
      <div class="key" data-key="70" onkeyup="danceMonkeyDance()">
        <kbd>F</kbd>
        <span class="sound">Kick</span>
      </div>
      <div class="key" data-key="71" onkeyup="danceMonkeyDance()">
        <kbd>G</kbd>
        <span class="sound">Sweep</span>
      </div>
    </div>


    <div class="danceHolder">
      <img class="dance" src="./danceimg/image_part_001.jpg" id="danceImageOverlay">
    </div>


    <div class="keys" id="keys2">
      <div class="key" data-key="72" onkeyup="danceMonkeyDance()">
        <kbd>H</kbd>
        <span class="sound">What</span>
      </div>
      <div class="key" data-key="74" onkeyup="danceMonkeyDance()">
        <kbd>J</kbd>
        <span class="sound">O Hat</span>
      </div>
      <div class="key" data-key="75" onkeyup="danceMonkeyDance()">
        <kbd>K</kbd>
        <span class="sound">Orch</span>
      </div>
      <div class="key" data-key="76" onkeyup="danceMonkeyDance()">
        <kbd>L</kbd>
        <span class="sound">clap</span>
      </div>
    </div>

      <audio data-sound="65" src="./sounds/808.wav"></audio>
      <audio data-sound="83" src="./sounds/snare.wav"></audio>
      <audio data-sound="68" src="./sounds/Chat.wav"></audio>
      <audio data-sound="70" src="./sounds/LexKick.wav"></audio>
      <audio data-sound="71" src="./sounds/FX.wav"></audio>
      <audio data-sound="72" src="./sounds/what.wav"></audio>
      <audio data-sound="74" src="./sounds/Ohat.wav"></audio>
      <audio data-sound="75" src="./sounds/orchestra.wav"></audio>
      <audio data-sound="76" src="./sounds/clap.wav"></audio>



    </div>
  </body>
  <script>
  function removeTransition(e) {
    if (e.propertyName !== 'transform') return;
    e.target.classList.remove('playing');
    console.log("e: ", e);
  }
  function playSound(e) {
    const audio = document.querySelector(`audio[data-sound="${e.keyCode}"]`);
    const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
    if (!audio) return;
    key.classList.add('playing');
    audio.currentTime = 0;
    audio.play();
  }
  const keys = Array.from(document.querySelectorAll('.key'));
  keys.forEach(key => key.addEventListener('transitionend', removeTransition));
  window.addEventListener('keydown', playSound);
  console.log("keys: ", keys);


// ------------------------Animation--------------------------------

  function danceMonkeyDance() {
      var numberOfTimesRun =0;
    if (numberOfTimesRun === 0) {
      var imageChange = document.getElementById("danceImageOverlay").src = "./danceimg/image_part_001.jpg";
      numberOfTimesRun += 1;
      console.log("numberOfTimesRun: ", numberOfTimesRun);
    }
    else if (numberOfTimesRun === 1){
    document.getElementById("danceImageOverlay").src = "./danceimg/image_part_002.jpg";
    numberOfTimesRun +=1;
    console.log("numberOfTimesRun: ", numberOfTimesRun);
    }
    else if (numberOfTimesRun === 2) {
      document.getElementById("danceImageOverlay").src = "./danceimg/image_part_003.jpg";
      numberOfTimesRun += 1;
      console.log("numberOfTimesRun: ", numberOfTimesRun);
    }
    else if (numberOfTimesRun === 3) {
      document.getElementById("danceImageOverlay").src = "./danceimg/image_part_004.jpg";
      numberOfTimesRun += 1;
      console.log("numberOfTimesRun: ", numberOfTimesRun);
    }
    else if (numberOfTimesRun === 4) {
      document.getElementById("danceImageOverlay").src = "./danceimg/image_part_005.jpg";
      numberOfTimesRun += 1;
      console.log("numberOfTimesRun: ", numberOfTimesRun);
    }
    console.log(imageChange);
    return imageChange;
  }

  // ------------------------Animation--------------------------------



</script>

</html>
